<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Gesportin - Test Suite</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          "Helvetica Neue", Arial, sans-serif;
        background: #f5f5f5;
        padding: 40px 20px;
        color: #333;
      }

      .container {
        max-width: 600px;
        margin: 0 auto;
      }

      header {
        text-align: center;
        margin-bottom: 50px;
      }

      h1 {
        font-size: 2rem;
        margin-bottom: 10px;
        font-weight: 700;
      }

      .subtitle {
        font-size: 1rem;
        color: #666;
        font-weight: 300;
      }

      .divider {
        height: 2px;
        background: #0b74de;
        margin: 30px 0;
      }

      .grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: 12px;
      }

      a {
        display: block;
        padding: 14px 20px;
        background: white;
        color: #0b74de;
        text-decoration: none;
        border: 1px solid #e0e0e0;
        border-radius: 6px;
        font-size: 0.95rem;
        font-weight: 500;
        transition: all 0.2s ease;
        text-align: left;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .count {
        font-size: 0.85rem;
        color: #999;
        font-weight: 400;
      }

      a:hover {
        background: #0b74de;
        color: white;
        border-color: #0b74de;
        transform: translateX(4px);
      }

      a:hover .count {
        color: #e0e0e0;
      }

      footer {
        text-align: center;
        margin-top: 50px;
        font-size: 0.85rem;
        color: #999;
      }

      @media (max-width: 480px) {
        h1 {
          font-size: 1.5rem;
        }

        .container {
          padding: 0 10px;
        }
      }
    </style>
  </head>

  <body>
    <div class="container">
      <header>
        <h1>Gesportin</h1>
        <p class="subtitle">Suite de Tests para API REST</p>
        <p class="subtitle">El orden de creaciÃ³n SI importa</p>
      </header>

      <div class="divider"></div>

      <div class="grid">
        <a href="club.html">
          <span>âš½ Club</span>
          <span class="count" id="count-club">-</span>
        </a>
        <a href="rolusuario.html">
          <span>ğŸ­ Rol Usuario</span>
          <span class="count" id="count-rolusuario">-</span>
        </a>
        <a href="tipousuario.html">
          <span>ğŸ‘” Tipo Usuario</span>
          <span class="count" id="count-tipousuario">-</span>
        </a>

        <a href="usuario.html">
          <span>ğŸ‘¨ Usuario</span>
          <span class="count" id="count-usuario">-</span>
        </a>

        <a href="noticia.html">
          <span>ğŸ“° Noticia</span>
          <span class="count" id="count-noticia">-</span>
        </a>
        <a href="comentario.html">
          <span>ğŸ’¬ Comentario</span>
          <span class="count" id="count-comentario">-</span>
        </a>

        <a href="puntuacion.html">
          <span>â­ PuntuaciÃ³n</span>
          <span class="count" id="count-puntuacion">-</span>
        </a>

        <a href="tipoarticulo.html">
          <span>ğŸ·ï¸ Tipo ArtÃ­culo</span>
          <span class="count" id="count-tipoarticulo">-</span>
        </a>

        <a href="articulo.html">
          <span>ğŸ“¦ ArtÃ­culo</span>
          <span class="count" id="count-articulo">-</span>
        </a>

        <a href="comentarioart.html">
          <span>ğŸ’¬ Comentario ArtÃ­culo</span>
          <span class="count" id="count-comentarioart">-</span>
        </a>

        <a href="carrito.html">
          <span>ğŸ›’ Carrito</span>
          <span class="count" id="count-carrito">-</span>
        </a>

        <a href="factura.html">
          <span>ğŸ“„ Factura</span>
          <span class="count" id="count-factura">-</span>
        </a>

        <a href="compra.html">
          <span>ğŸ›ï¸ Compra</span>
          <span class="count" id="count-compra">-</span>
        </a>

        <a href="temporada.html">
          <span>ğŸ“… Temporada</span>
          <span class="count" id="count-temporada">-</span>
        </a>

        <a href="categoria.html">
          <span>ğŸ“‚ CategorÃ­a</span>
          <span class="count" id="count-categoria">-</span>
        </a>
        <a href="equipo.html">
          <span>ğŸ‘¥ Equipo</span>
          <span class="count" id="count-equipo">-</span>
        </a>
        <a href="liga.html">
          <span>ğŸ† Liga</span>
          <span class="count" id="count-liga">-</span>
        </a>

        <a href="partido.html">
          <span>âš”ï¸ Partido</span>
          <span class="count" id="count-partido">-</span>
        </a>

        <a href="jugador.html">
          <span>ğŸ‘¤ Jugador</span>
          <span class="count" id="count-jugador">-</span>
        </a>

        <a href="cuota.html">
          <span>ğŸ’° Cuota</span>
          <span class="count" id="count-cuota">-</span>
        </a>

        <a href="pago.html">
          <span>ğŸ’³ Pago</span>
          <span class="count" id="count-pago">-</span>
        </a>
      </div>

      <footer>
        <p>Selecciona un endpoint para ejecutar los tests</p>
      </footer>
    </div>

    <script>
      const endpoints = [
        "articulo",
        "carrito",
        "categoria",
        "club",
        "comentario",
        "comentarioart",
        "compra",
        "cuota",
        "equipo",
        "factura",
        "jugador",
        "liga",
        "noticia",
        "pago",
        "partido",
        "puntuacion",
        "rolusuario",
        "temporada",
        "tipoarticulo",
        "tipousuario",
        "usuario",
      ];

      const baseUrl = "http://localhost:8089";

      async function fetchCount(endpoint) {
        try {
          const res = await fetch(`${baseUrl}/${endpoint}/count`);
          if (!res.ok) return "?";
          const count = await res.json();
          return count > 0 ? count.toString() : "0";
        } catch (e) {
          return "?";
        }
      }

      async function loadCounts() {
        for (const endpoint of endpoints) {
          const count = await fetchCount(endpoint);
          const el = document.getElementById(`count-${endpoint}`);
          if (el) el.textContent = count;
        }
      }

      window.addEventListener("load", loadCounts);
    </script>
  </body>
</html>
